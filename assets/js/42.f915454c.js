(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{656:function(t,s,a){"use strict";a.r(s);var n=a(9),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"vuex是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuex是什么"}},[t._v("#")]),t._v(" Vuex是什么？")]),t._v(" "),a("p",[t._v("Vuex 是一个专为 Vue.js 应用程序开发的 "),a("strong",[t._v("状态管理模式")]),t._v("。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。")]),t._v(" "),a("h2",{attrs:{id:"什么是状态管理模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是状态管理模式"}},[t._v("#")]),t._v(" 什么是状态管理模式？")]),t._v(" "),a("p",[t._v("简单的理解就是统一集中管理和维护所有vue组件的可变化状态。")]),t._v(" "),a("h2",{attrs:{id:"什么时候需要它"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么时候需要它"}},[t._v("#")]),t._v(" 什么时候需要它？")]),t._v(" "),a("p",[t._v("当我们的应用很大状态很多，且多个页面都有共享使用同一状态时，这种情况下我们可以考虑使用Vuex可以更好的在组件外部去管理状态，Vuex 将会成为自然而然的选择。")]),t._v(" "),a("h2",{attrs:{id:"vuex使用示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuex使用示例"}},[t._v("#")]),t._v(" Vuex使用示例")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Vuex "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vuex'")]),t._v("\n\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Vuex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vuex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("state")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("getters")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mutations")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actions")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            ctx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("h2",{attrs:{id:"vuex的各个模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuex的各个模块"}},[t._v("#")]),t._v(" Vuex的各个模块")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("state")]),t._v("：用于存储数据，是store中的唯一数据源。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("getters")]),t._v("：如同vue组件中的计算属性，基于state的数据进行二次加工，常用于数据的筛选和多个数据的相关性进行计算。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("mutations")]),t._v("：用于存储对于state的修改同步方法，是修改state数据的唯一途径，且不能用于处理异步事件。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("actions")]),t._v("：类似于mutation，用于提交mutation来变更状态，而不能直接变更状态，可以包含任意异步操作。")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("modules")]),t._v("：类似于命名空间，用于项目中将各个模块的状态分开定义和操作，便于维护。")])])]),t._v(" "),a("h2",{attrs:{id:"为什么要用vuex-而不是全局维护一个全局变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要用vuex-而不是全局维护一个全局变量"}},[t._v("#")]),t._v(" 为什么要用Vuex，而不是全局维护一个全局变量？")]),t._v(" "),a("ul",[a("li",[t._v("全局变量")])]),t._v(" "),a("ol",[a("li",[t._v("无响应式，无法被监听。")]),t._v(" "),a("li",[t._v("可能出现命名污染。")])]),t._v(" "),a("ul",[a("li",[t._v("vuex的优点")])]),t._v(" "),a("ol",[a("li",[t._v("响应式的数据。")]),t._v(" "),a("li",[t._v("模块化，抽象业务逻辑，减少重复代码。")]),t._v(" "),a("li",[t._v("可以被vue-devtools跟踪操作。")])]),t._v(" "),a("h2",{attrs:{id:"疑问二三🤔️"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#疑问二三🤔️"}},[t._v("#")]),t._v(" 疑问二三🤔️")]),t._v(" "),a("ol",[a("li",[t._v("为什么只能使用mutation来修改数据而不能使用action？")])]),t._v(" "),a("p",[t._v("Vuex这一限制其实也是出于代码设计考虑，action和mutation各司其事，本质上也是遵守了“单一职责”原则。（具体细节课、可阅读源码进行分析理解）")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("为什么mutation只能处理同步事件，action处理异步事件。")])]),t._v(" "),a("p",[t._v("主要是为了方便我们debug，如果项目比较大，复杂度较高，在开发过程中，我们一般会依赖vue-devtools进行调试，为了方便追踪，vuex的每一次提交mutation，当函数执行时都会被记录一次，所以要求mutation内只能存放同步事件，而如果存放的是异步事件的时候，函数执行vue-devtools记录了，但是事实上并没有得到最终的一个结果，导致记录的一个执行时间顺序就不对，导致一些意外情况增加调试难度。")])])}),[],!1,null,null,null);s.default=e.exports}}]);